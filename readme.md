# Реализация API и простого веб-интерфейса для реферальной системы.
____
Основные функции:
- авторизация и регистрация пользователей по номеру телефона и смс(имитация)
- учет пользователей, генерация и хранения инвайт-кодов
- регистрация пользователей (внесение пользователя в базу данных) производится автоматически,
если данных пользователя нет в базе
- отображение в профиле авторизированного пользователя приглашенных им пользователей 

## Инструкция к API:
____
1) вход пользователей в систему осуществляется посредством ввода номера телефона
и дальнейшего ввода четырехзначного кода (имитация оправки смс)
   - для ввода номера телефона необходимо выполнить post-запрос с указанием номера телефона в виде 10 цифр 
   (формат 9009009090) по ключу number в теле запроса по url /authentication/api_number_input/:
       POST /authentication/api_number_input/ 
       {
       "phone": "9991234567"
       }
   
   - для ввода четырехзначного кода необходимо выполнить post-запрос с указанием номера телефона в виде 4 цифр 
   по ключу number в теле запроса по url /authentication/api_otp_input/:
       POST /authentication/api_otp_input/ 
       {
       "otp": "1254"
       }
2) данные (профиль) успешно авторизированного пользователя отображаются при get-запросе по url /profile/api_profile/:
    Данные в профиле: id,номер телефона, инвайт-код, список приглашенных пользователей
    и активированный инвайт-код или None, если пользователь не ещё его активировал 
3) активировать чужой инвайт-код для авторизированного пользователя можно выполнив post-запрос с указанием инвайт-кода 
   в виде 6 символов по ключу invite_code в теле запроса по url /referral_system/api_invite_code_activation/:
       POST /referral_system/api_invite_code_activation/ 
       {
       "invite_code": "5L7opy"
       }
    Формат инвайт-кода: верхний и нижний регистры английского алфавита и цифры

## Веб-интерфейс:
____
/number_input/ - страница ввода номера телефона для авторизации/регистрации
/otp_input/ - страница ввода одноразового кода для входа в систему 
/profile/ - страница профиля пользователя

## Для запуска:
____
Установить виртуальное окружение:  
> python -m venv venv

Установить библиотеки из файла requirements.txt:
> pip install -r requirements.txt

Создать базу данных в PostgreSQL (пример через SQL Shell (psql)):
> CREATE DATABASE referral_system_db;
> CREATE USER referral_system_admin WITH PASSWORD 'referral_system_123';
> GRANT ALL PRIVILEGES ON DATABASE referral_system_db TO referral_system_admin;
> ALTER DATABASE referral_system_db OWNER TO referral_system_admin;

Провести миграции
> python manage.py migrate

Запустить приложение
> python manage.py runserver